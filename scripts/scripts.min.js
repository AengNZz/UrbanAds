gsap.registerPlugin(ScrollTrigger);const isSmallScreen=()=>window.innerWidth<=640,initHeroAnimation=()=>{if(isSmallScreen())return;const e=gsap.timeline();[{sel:".hero__logo",cfg:{y:-30,scale:.85,opacity:0,ease:"back.out(1.7)"}},{sel:".key",cfg:{y:-30,scale:.85,opacity:0,ease:"back.out(1.7)"},at:"-=0.6"},{sel:".hero__company-list, .hero__company-item svg",cfg:{y:20,scale:.9,opacity:0,stagger:.08,ease:"back.out(1.7)"},at:"-=0.6"},{sel:".hero__data-item",cfg:{y:20,scale:.9,opacity:0,stagger:.08,ease:"power2.out"},at:"-=0.6"},{sel:".hero__text",cfg:{y:25,scale:.9,opacity:0,ease:"back.out(1.7)"},at:"-=0.6"}].forEach((({sel:t,cfg:o,at:a})=>{const r=document.querySelectorAll(t);r.length&&e.from(r,{duration:.8,...o},a)}))},getRatio=e=>{const t=e.getBoundingClientRect(),o=e.parentElement.getBoundingClientRect();return{x:(t.left-o.left+t.width/2)/o.width,y:(t.top-o.top+t.height/2)/o.height}},configDisappear=({x:e,y:t})=>e<.4?{x:gsap.utils.random(-120,-80),y:gsap.utils.random(30,60),scale:.97}:e>.6?{x:gsap.utils.random(80,120),y:gsap.utils.random(30,60),scale:.97}:t<.4?{x:gsap.utils.random(-40,40),y:gsap.utils.random(-120,-80),scale:.97}:t>.6?{x:gsap.utils.random(-40,40),y:gsap.utils.random(80,120),scale:.97}:{x:0,y:gsap.utils.random(30,60),scale:.8},configAppear=({x:e,y:t})=>e<.4?{x:gsap.utils.random(-120,-80),y:gsap.utils.random(30,60),scale:.8,rotate:gsap.utils.random(-25,-15)}:e>.6?{x:gsap.utils.random(80,120),y:gsap.utils.random(30,60),scale:.8,rotate:gsap.utils.random(15,25)}:t<.4?{x:gsap.utils.random(-40,40),y:gsap.utils.random(-120,-80),scale:.8,rotate:gsap.utils.random(-10,10)}:t>.6?{x:gsap.utils.random(-40,40),y:gsap.utils.random(80,120),scale:.8,rotate:gsap.utils.random(-10,10)}:{x:0,y:gsap.utils.random(50,80),scale:.7},animateDecor=(e,t,o)=>{e.forEach(((e,a)=>{const r="disappear"===t?configDisappear(getRatio(e)):configAppear(getRatio(e));"disappear"===t?gsap.to(e,{...r,opacity:0,filter:"blur(8px)",ease:"power3.out",scrollTrigger:{trigger:e,start:o,end:"bottom 20%",scrub:2},delay:.025*a}):gsap.fromTo(e,{...r,opacity:0,filter:"blur(12px)"},{x:0,y:0,scale:1,rotate:0,opacity:1,filter:"blur(0px)",ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",end:"top 30%",scrub:1.5},delay:.05*a})}))},initDecorScrollAnimation=()=>{if(isSmallScreen())return;const e=document.querySelectorAll(".hero-decor *"),t=document.querySelectorAll(".for-whom-decor .decor *"),o=document.querySelectorAll(".program-decor .decor"),a=document.querySelectorAll(".faq-decor .decor");e.length&&animateDecor(e,"disappear","top top"),t.length&&animateDecor(t,"disappear","center 42%"),o.length&&animateDecor(o,"disappear","center 30%"),a.length&&animateDecor(a,"appear","top top")},initMarquee=()=>{const e=document.querySelector(".marquee__wrapper");if(!e||e.dataset.cloned)return;e.innerHTML+=e.innerHTML,e.dataset.cloned="true";const t=e.scrollWidth/2;let o=-t;const a=()=>{o+=.8,o>=0&&(o=-t),e.style.transform=`translateX(${o}px)`,requestAnimationFrame(a)};a()},initAccordion=()=>{const e=document.querySelectorAll(".accordion__item");e.forEach((t=>{const o=t.querySelector(".accordion__button"),a=t.querySelector(".accordion__content");o&&a&&(gsap.set(a,{height:0}),o.addEventListener("click",(()=>{const o=t.classList.contains("is-open");e.forEach((e=>{e.classList.remove("is-open"),gsap.to(e.querySelector(".accordion__content"),{height:0,duration:.4,ease:"power2.inOut"})})),o||(t.classList.add("is-open"),gsap.to(a,{height:a.scrollHeight+20,duration:.4,ease:"power2.out"}))})))}))},initModal=()=>{const e=document.querySelector(".modal");if(!e)return;const t=document.querySelector("header"),o=()=>{const o=window.innerWidth-document.documentElement.clientWidth;e.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.paddingRight=`${o}px`,e.style.paddingRight=`${o}px`,t&&(t.style.paddingRight=`${o}px`)},a=()=>{e.classList.remove("is-open"),document.body.style.overflow="",document.body.style.paddingRight="",e.style.paddingRight="",t&&(t.style.paddingRight="")};document.querySelectorAll(".form-open").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault(),o()})))),e.addEventListener("click",(t=>{t.target===e&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()}))};document.addEventListener("DOMContentLoaded",(()=>{initHeroAnimation(),initMarquee(),initAccordion(),initModal(),initDecorScrollAnimation(),ScrollTrigger.refresh()})),window.addEventListener("resize",(()=>ScrollTrigger.refresh()));